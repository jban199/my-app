<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=overlays-content">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tretagnikalaya</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico" sizes="any">
    <meta name="theme-color" content="#000000">

    <!-- Link to the stylesheet -->
    <link rel="stylesheet" href="styles.css">

</head>
<body>




<!-- ///////////////// -->
<!-- Fixed Footer Menu -->
<!-- ///////////////// -->
<section>
<!-- FooterMenu container (empty, the content is injected here) -->
<div id="footermenu-container"></div>
</section>





<!-- ///////////////// -->
<!-- Sidebar -->
<!-- ///////////////// -->
<section>
<!-- Fullscreen Sidebar Trigger -->
<svg id="sidebarIcon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
    <path d="M86-191v-126h788v126H86Zm0-226v-126h788v126H86Zm0-226v-126h788v126H86Z"/>
</svg>

<!-- Sidebar container (empty, the content is injected here) -->
<div id="sidebar-container"></div>
</section>


<script>
window.onload = function() {
    // Load Sidebar
    fetch('sidebar.html')
        .then(response => response.text())
        .then(data => {
            const sidebarContainer = document.getElementById('sidebar-container');
            sidebarContainer.innerHTML = data;
            
            // Reattach event listeners after the sidebar is loaded
            const closeButton = document.getElementById("closeSidebarButton");
            if (closeButton) {
                closeButton.addEventListener("click", closeSidebar);
            }
			
			// Get references to the icon that triggers the sidebar opening
			const sidebarIcon = document.getElementById("sidebarIcon");

			// Function to open the sidebar
			function openSidebar() {
				const fullscreenSidebar = document.getElementById("fullscreenSidebar");
				fullscreenSidebar.style.transform = "translateX(0)";
			}

			// Function to close the sidebar
			function closeSidebar() {
				const fullscreenSidebar = document.getElementById("fullscreenSidebar");
				fullscreenSidebar.style.transform = "translateX(-100%)";
			}

			// Event listener for opening the sidebar when the icon is clicked
			sidebarIcon.addEventListener("click", openSidebar);
        })
        .catch(error => {
            console.error("Error loading sidebar:", error);
        });

    // Load Footer Menu
    fetch('footermenu.html')
        .then(response => response.text())
        .then(data => {
            const footerContainer = document.getElementById('footermenu-container');
            footerContainer.innerHTML = data;
        })
        .catch(error => {
            console.error("Error loading footer menu:", error);
        });
};
</script>



<!-- ///////////////// -->
<!-- Set Theme - Based on Local Storage -->
<!-- ///////////////// -->
<script>
	  // Wait for the DOM to be fully loaded before running the script
	  document.addEventListener("DOMContentLoaded", function() {
		const themeLink = document.createElement("link");
		themeLink.rel = "stylesheet";
		themeLink.id = "theme-link";

		// Check if a theme preference is saved in localStorage
		const savedTheme = localStorage.getItem("theme");

		if (savedTheme === "dark") {
		  themeLink.href = "dark-theme.css";  // If dark theme is saved, load dark-theme.css
		} else if (savedTheme === "light") {
		  themeLink.href = "light-theme.css"; // If light theme is saved, load light-theme.css
		} else {
		  themeLink.href = "dark-theme.css";  // Default to dark theme if no preference is saved
		}

		// Append the theme <link> tag to the <head> of the document
		document.head.appendChild(themeLink);
	  });
	</script>




</body>
</html>
