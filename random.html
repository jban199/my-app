<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=overlays-content">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TKA - Random</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico" sizes="any">
    <meta name="theme-color" content="#1A1A1A">

    <!-- Link to the stylesheet -->
    <link rel="stylesheet" href="styles.css">

</head>
<body>

<section class="tak-header">
	<h1 class="tak-pagename"> Random </h1>
</section>

<section id="rand-section">
  <style>
    #rand-section {
      padding: 10px;
      display: grid;
	  grid-template-columns: repeat(2, 1fr);
      justify-content: center;
      gap: 10px;
      font-family: sans-serif;
      color: var(--font1);
    }

    .rand-card {
      background: var(--bg2);
      border-radius: 12px;
      flex: 1 1 48%;
      max-width: 150px;
      height: 240px;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
	  align-items: center;
      padding: 10px;
    }

    .rand-card h4 {
      margin: 0;
      color: var(--accent1);
    }

    .rand-image-wrapper {
      perspective: 600px;
      height: 80px;
      margin: 10px auto;
    }

    .rand-image-wrapper img {
      width: 70px;
      height: 70px;
      object-fit: contain;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .rand-image-wrapper img.rand-flip {
      transform: rotateY(180deg);
    }

    .rand-label {
      font-size: 0.85em;
      color: var(--font2);
      margin-bottom: 5px;
    }

    .rand-btn {
      background: var(--accent1);
      border: none;
      border-radius: 20px;
      color: var(--font1);
      padding: 10px 20px;
      font-weight: bold;
	  width: fit-content;
    }
  </style>

  <!-- Coin Card -->
  <div class="rand-card" data-rand-type="coin">
    <h4>Coin</h4>
    <div class="rand-image-wrapper">
      <img src="images/random/coin_heads.png" alt="coin" />
    </div>
    <div class="rand-label">Heads</div>
    <button class="rand-btn">Flip</button>
  </div>

  <!-- Dice Card -->
  <div class="rand-card" data-rand-type="dice">
    <h4>Dice</h4>
    <div class="rand-image-wrapper">
      <img src="images/random/dice1.png" alt="dice" />
    </div>
    <div class="rand-label">Face 1</div>
    <button class="rand-btn">Flip</button>
  </div>

  <!-- Card Deck -->
  <div class="rand-card" data-rand-type="card">
    <h4>Card</h4>
    <div class="rand-image-wrapper">
      <img src="images/random/card-back.png" alt="card" />
    </div>
    <div class="rand-label">Back</div>
    <button class="rand-btn">Flip</button>
  </div>

  <!-- Chinese Elements -->
  <div class="rand-card" data-rand-type="elements">
    <h4>Chinese Elements</h4>
    <div class="rand-image-wrapper">
      <img src="images/random/wood.svg" alt="element" />
    </div>
    <div class="rand-label">Wood</div>
    <button class="rand-btn">Flip</button>
  </div>

  <script>
    const rand_sets = {
      coin: [
        { file: "images/random/coin_heads.png", label: "Heads" },
        { file: "images/random/coin_tails.png", label: "Tails" }
      ],
      dice: [
        { file: "images/random/dice1.png", label: "Face 1" },
        { file: "images/random/dice2.png", label: "Face 2" },
        { file: "images/random/dice3.png", label: "Face 3" },
        { file: "images/random/dice4.png", label: "Face 4" },
        { file: "images/random/dice5.png", label: "Face 5" },
        { file: "images/random/dice6.png", label: "Face 6" }
      ],
      card: [
        { file: "images/random/card-spades-ace.png", label: "Ace of Spades" },
		{ file: "images/random/card-clubs-ace.png", label: "Ace of Clubs" },
		{ file: "images/random/card-hearts-ace.png", label: "Ace of Hearts" },
		{ file: "images/random/card-diamonds-ace.png", label: "Ace of Diamonds" },
		{ file: "images/random/card-spades-king.png", label: "King of Spades" },
		{ file: "images/random/card-clubs-king.png", label: "King of Clubs" },
		{ file: "images/random/card-hearts-king.png", label: "King of Hearts" },
		{ file: "images/random/card-diamonds-king.png", label: "King of Diamonds" },
		{ file: "images/random/card-spades-queen.png", label: "Queen of Spades" },
		{ file: "images/random/card-clubs-queen.png", label: "Queen of Clubs" },
		{ file: "images/random/card-hearts-queen.png", label: "Queen of Hearts" },
		{ file: "images/random/card-diamonds-queen.png", label: "Queen of Diamonds" },
		{ file: "images/random/card-spades-jack.png", label: "Jack of Spades" },
		{ file: "images/random/card-clubs-jack.png", label: "Jack of Clubs" },
		{ file: "images/random/card-hearts-jack.png", label: "Jack of Hearts" },
		{ file: "images/random/card-diamonds-jack.png", label: "Jack of Diamonds" },
		{ file: "images/random/card-spades-10.png", label: "10 of Spades" },
		{ file: "images/random/card-clubs-10.png", label: "10 of Clubs" },
		{ file: "images/random/card-hearts-10.png", label: "10 of Hearts" },
		{ file: "images/random/card-diamonds-10.png", label: "10 of Diamonds" },
		{ file: "images/random/card-spades-9.png", label: "9 of Spades" },
		{ file: "images/random/card-clubs-9.png", label: "9 of Clubs" },
		{ file: "images/random/card-hearts-9.png", label: "9 of Hearts" },
		{ file: "images/random/card-diamonds-9.png", label: "9 of Diamonds" },
		{ file: "images/random/card-spades-8.png", label: "8 of Spades" },
		{ file: "images/random/card-clubs-8.png", label: "8 of Clubs" },
		{ file: "images/random/card-hearts-8.png", label: "8 of Hearts" },
		{ file: "images/random/card-diamonds-8.png", label: "8 of Diamonds" },
		{ file: "images/random/card-spades-7.png", label: "7 of Spades" },
		{ file: "images/random/card-clubs-7.png", label: "7 of Clubs" },
		{ file: "images/random/card-hearts-7.png", label: "7 of Hearts" },
		{ file: "images/random/card-diamonds-7.png", label: "7 of Diamonds" },
		{ file: "images/random/card-spades-6.png", label: "6 of Spades" },
		{ file: "images/random/card-clubs-6.png", label: "6 of Clubs" },
		{ file: "images/random/card-hearts-6.png", label: "6 of Hearts" },
		{ file: "images/random/card-diamonds-6.png", label: "6 of Diamonds" },
		{ file: "images/random/card-spades-5.png", label: "5 of Spades" },
		{ file: "images/random/card-clubs-5.png", label: "5 of Clubs" },
		{ file: "images/random/card-hearts-5.png", label: "5 of Hearts" },
		{ file: "images/random/card-diamonds-5.png", label: "5 of Diamonds" },
		{ file: "images/random/card-spades-4.png", label: "4 of Spades" },
		{ file: "images/random/card-clubs-4.png", label: "4 of Clubs" },
		{ file: "images/random/card-hearts-4.png", label: "4 of Hearts" },
		{ file: "images/random/card-diamonds-4.png", label: "4 of Diamonds" },
		{ file: "images/random/card-spades-3.png", label: "3 of Spades" },
		{ file: "images/random/card-clubs-3.png", label: "3 of Clubs" },
		{ file: "images/random/card-hearts-3.png", label: "3 of Hearts" },
		{ file: "images/random/card-diamonds-3.png", label: "3 of Diamonds" },
		{ file: "images/random/card-spades-2.png", label: "2 of Spades" },
		{ file: "images/random/card-clubs-2.png", label: "2 of Clubs" },
		{ file: "images/random/card-hearts-2.png", label: "2 of Hearts" },
		{ file: "images/random/card-diamonds-2.png", label: "2 of Diamonds" },
		{ file: "images/random/card-spades-1.png", label: "1 of Spades" },
		{ file: "images/random/card-clubs-1.png", label: "1 of Clubs" },
		{ file: "images/random/card-hearts-1.png", label: "1 of Hearts" },
		{ file: "images/random/card-diamonds-1.png", label: "1 of Diamonds" }
      ],
      elements: [
        { file: "images/random/wood.svg", label: "Wood" },
        { file: "images/random/fire.svg", label: "Fire" },
        { file: "images/random/earth.svg", label: "Earth" },
        { file: "images/random/metal.svg", label: "Metal" },
        { file: "images/random/water.svg", label: "Water" }
      ]
    };

function rand_setupCards() {
  document.querySelectorAll('#rand-section .rand-card').forEach(card => {
    const type = card.dataset.randType;
    const img = card.querySelector('img');
    const label = card.querySelector('.rand-label');
    const btn = card.querySelector('.rand-btn');

    if (!rand_sets[type]) {
      showTakSnackbar(`No set found for type "${type}"`);
      return;
    }

    btn.addEventListener('click', () => {
      const options = rand_sets[type];
      const choice = options[Math.floor(Math.random() * options.length)];

      img.classList.add('rand-flip');

      setTimeout(() => {
        img.src = choice.file;
        label.textContent = choice.label;
        img.classList.remove('rand-flip');
      }, 500);
    });
  });
}
    rand_setupCards();
  </script>
</section>





<!-- Snackbar (hidden initially) -->
	<div id="tak-snackbar" class="tak-snackbar">Welcome!</div>

<script>
// Snackbar function
function showTakSnackbar(message = "Welcome!") {
  const snackbar = document.getElementById("tak-snackbar");
  snackbar.textContent = message;
  snackbar.style.display = "block";
  snackbar.style.opacity = "1";

  setTimeout(() => {
    snackbar.style.opacity = "0";
    setTimeout(() => {
      snackbar.style.display = "none";
    }, 300);
  }, 2000);
}
</script>



<!-- ///////////////// -->
<!-- Footer Spacer -->
<!-- ///////////////// -->
<div class="footerSpacer">
</div>



<script>
  document.addEventListener("DOMContentLoaded", function () {
    const images = document.querySelectorAll("img");

    images.forEach(img => {
      img.onerror = function () {
        this.onerror = null;
        this.src = "images/nm/nm-placeholder.svg";
      };
    });
  });
</script>

<!-- ///////////////// -->
<!-- Bottom Menu -->
<!-- ///////////////// -->
<section>
<!-- SBM Trigger -->
<svg id="SBM-Icon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
    <path d="M86-191v-126h788v126H86Zm0-226v-126h788v126H86Zm0-226v-126h788v126H86Z"/>
</svg>

<!-- SBM container (empty, the content is injected here) -->
<div id="SBM-container"></div>
</section>


<script>
window.addEventListener("load", function () {		
    // Load SBM
    fetch('sbm.html')
        .then(response => response.text())
        .then(data => {
            const sidebarContainer = document.getElementById('SBM-container');
            sidebarContainer.innerHTML = data;

            // Make sure sidebar is hidden after load
            const overlaySBM = document.getElementById("SBM-section");
            if (overlaySBM) {
                overlaySBM.style.transform = "translateY(100%)";
            }

            // Reattach event listeners after the SBM is loaded
            const closeButton = document.getElementById("closeSBM");
            if (closeButton) {
                closeButton.addEventListener("click", closeSBM);
            }

            // Get reference to the icon that triggers the sidebar opening
            const SBMIcon = document.getElementById("SBM-Icon");

            // Function to open the sidebar
            function openSBM() {
                if (overlaySBM) {
                    overlaySBM.style.transform = "translateY(0)";
                }
            }

            // Function to close the sidebar
            function closeSBM() {
                if (overlaySBM) {
                    overlaySBM.style.transform = "translateY(100%)";
                }
            }

            // Event listener for opening the SBM when the icon is clicked
            if (SBMIcon) {
                SBMIcon.addEventListener("click", openSBM);
            }
        })
        .catch(error => {
            console.error("Error loading SBM:", error);
        });
});
</script>



<!-- ///////////////// -->
<!-- Theme Toggle -->
<!-- ///////////////// -->
<section>
<button id="theme-toggle">
    <!-- Default dark icon (SVG) -->
    <svg id="dark-icon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
      <path d="M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"/>
    </svg>

    <!-- Light Icon (hidden by default) -->
    <svg id="light-icon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f" style="display: none;">
      <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Z"/>
    </svg>
</button>
</section>

<!-- ///////////////// -->
<!-- Set Theme - Based on Local Storage -->
<!-- ///////////////// -->
<script>
  // Wait for the DOM to be fully loaded before running the script
  document.addEventListener("DOMContentLoaded", function() {
    const themeLink = document.createElement("link");
    themeLink.rel = "stylesheet";
    themeLink.id = "theme-link";
    
    // Check if a theme preference is saved in localStorage
    const savedTheme = localStorage.getItem("theme");

    if (savedTheme === "dark") {
      themeLink.href = "dark-theme.css";  // If dark theme is saved, load dark-theme.css
    } else if (savedTheme === "light") {
      themeLink.href = "light-theme.css"; // If light theme is saved, load light-theme.css
    } else {
      themeLink.href = "dark-theme.css";  // Default to dark theme if no preference is saved
      localStorage.setItem('theme', 'dark');  // Save preference
    }

    // Append the theme <link> tag to the <head> of the document
    document.head.appendChild(themeLink);

    // Initialize icons based on saved theme preference
    const darkIcon = document.getElementById('dark-icon');
    const lightIcon = document.getElementById('light-icon');

    if (savedTheme === "dark") {
      lightIcon.style.display = 'none';
      darkIcon.style.display = 'block';
    } else {
      lightIcon.style.display = 'block';
      darkIcon.style.display = 'none';
    }

    // Toggle theme when button is clicked
    const themeToggleButton = document.getElementById('theme-toggle');

    themeToggleButton.addEventListener('click', () => {
      const currentTheme = themeLink.href.includes('dark-theme.css') ? 'dark' : 'light';
      if (currentTheme === 'dark') {
        themeLink.href = 'light-theme.css';  // Switch to light theme
        localStorage.setItem('theme', 'light');  // Save preference
        lightIcon.style.display = 'block';  // Show light icon
        darkIcon.style.display = 'none';   // Hide dark icon
      } else {
        themeLink.href = 'dark-theme.css';   // Switch to dark theme
        localStorage.setItem('theme', 'dark');  // Save preference
        lightIcon.style.display = 'none';   // Hide light icon
        darkIcon.style.display = 'block';   // Show dark icon
      }
    });
  });
</script>



<!-- ///////////////// -->
<!-- Fullscreen Toggle -->
<!-- ///////////////// -->
<section>
  <button id="fullscreen-toggle" class="fullscreen-button">
  <!-- Icon for entering fullscreen (initially displayed) -->
  <svg id="fullscreen-enter-icon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
    <path d="M86-86v-260h126v134h134v126H86Zm529 0v-126h133v-134h126v260H615ZM86-615v-259h260v126H212v133H86Zm662 0v-133H615v-126h259v259H748Z"/>
  </svg>

  <!-- Icon for exiting fullscreen (hidden initially) -->
  <svg id="fullscreen-exit-icon" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f" style="display: none;">
    <path d="M220-86v-134H86v-126h260v260H220Zm395 0v-260h259v126H741v134H615ZM86-615v-126h134v-133h126v259H86Zm529 0v-259h126v133h133v126H615Z"/>
  </svg>
</button>
</section>
<script>
  // Fullscreen Toggle Logic
const fullscreenButton = document.getElementById('fullscreen-toggle');
fullscreenButton.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
    document.getElementById('fullscreen-enter-icon').style.display = 'none';
    document.getElementById('fullscreen-exit-icon').style.display = 'block';
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
      document.getElementById('fullscreen-enter-icon').style.display = 'block';
      document.getElementById('fullscreen-exit-icon').style.display = 'none';
    }
  }
});

</script>


<!-- ///////////////// -->
<!-- Prevent Right Click Context Menu -->
<!-- ///////////////// -->
<script>
  document.addEventListener('contextmenu', function(event) {
    const target = event.target;

    // Allow default context menu on input, textarea, or contenteditable elements
    if (
      target.tagName === 'INPUT' ||
      target.tagName === 'TEXTAREA' ||
      target.isContentEditable
    ) {
      return; // allow context menu
    }

    event.preventDefault(); // otherwise, block it
  });
</script>

</body>
</html>
